# Introduce

## gain Vendor ID and Product ID

    ~$ lsusb
> Bus 001 Device 004: ID 8866:0100
**Vendor ID is 0x8866**
**Product ID is 0x0100**

## get permission to the usb port

    ~$ sudo touch /etc/udev/rules.d/99-myusb.rules

    **99-myusb is a arbitrary name**

> write data below into it:
> SUBSYSTEM=="usb", ATTRS{idVendor}=="xxxx", ATTRS{idProduct}
> =="xxxx", MODE="0666", GROUP="group_name"

## reload

    ~$ sudo udevadm control --reload
    ~$ sudo udevadm trigger

## gain out endpoint, replace xxxx:xxxx with your Device ID

    ~$ lsusb -vvv -d xxxx:xxxx | grep iInterface

>iInterface &nbsp; &nbsp; &nbsp; 0

    ~$ lsusb -vvv -d xxxx:xxxx | grep bEndpointAddress | grep OUT

>bEndpointAddress     0x02  EP 2 OUT
>0x02 is out endpoint code

## some conlusion

>python-escpos==2.2.0

1. first line can't contain Chinese
2. utf-8 encoding result can't be decoded by pos
3. the barcode generated by python-escpos is not reliable
4. change the file below

>/home/xyz/.local/lib/python2.7/site-packages/escpos/escpos.py
>annoate "self._raw(txt.encode())" and replace with "self._raw(txt)"

referrence:
[1](https://python-escpos.readthedocs.io/en/latest/user/installation.html)

[2](https://blog.csdn.net/weixin_42621475/article/details/97187189?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159883871019724842964598%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=159883871019724842964598&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~pc_rank_v4-1-97187189.first_rank_ecpm_v3_pc_rank_v4&utm_term=usb.core.USBError%3A+%5BErrno+13%5D+&spm=1018.2118.3001.4187)

[3](https://python-escpos.readthedocs.io/en/latest/user/usage.html?highlight=endpoint#usb-printer)
